#!/usr/bin/env python3
import marshal, base64
exec(compile(marshal.loads(base64.b64decode(b'YWEHAAAjIS91c3IvYmluL2VudiBweXRob24zCmltcG9ydCBvcywgc3lzLCB0aW1lCnRyeTogICAgCiAgICBpbXBvcnQgcmVxdWVzdHMKICAgIGZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwCmV4Y2VwdDoKICAgIHByaW50KCJJbnN0YWxsaW5nIGRlcGVuZGVuY2llcy4uLiIpCiAgICBvcy5zeXN0ZW0oInB5dGhvbjMgLW0gcGlwIGluc3RhbGwgcmVxdWVzdHMgYnM0IikKCmJhbm5lciA9ICIiIgpcMDMzWzM1bQogICAgLl9fXyAgICAgICAgIF9fX19fX19fICAgICAgICAgICAgICAKICAgIHwgICB8X19fX18gIC8gIF9fX19fLyAgX19fXyAgX19fXyAgCiAgICB8ICAgXF9fX18gXC8gICBcICBfX19fLyBfXyBcLyAgXyBcIAogICAgfCAgIHwgIHxfPiA+ICAgIFxfXCAgXCAgX19fKCAgPF8+ICkKICAgIHxfX198ICAgX18vIFxfX19fX18gIC9cX19fICA+X19fXy8gCiAgICAgICAgfF9ffCAgICAgICAgICAgXC8gICAgIFwvICAgICAgICAgXDAzM1szMW12XDAzM1swbTEuMC4wCiAgICAKICAgIFwwMzNbOTZtWytdIFwwMzNbOTNtQ29kZWQgYnkgXDAzM1s5MW1Nci4gUGVuZ3VpbgogICAgXDAzM1s5Nm1bK10gXDAzM1s5M21HaXRodWI6IFwwMzNbOTFtaHR0cHM6Ly9naXRodWIuY29tL2dyYXloYXR6b25lCgoiIiIKCmRlZiBjbGVhcl9jb25zb2xlKCk6CiAgICBvcy5zeXN0ZW0oImNscyIgaWYgb3MubmFtZSA9PSAibnQiIGVsc2UgImNsZWFyIikKCmRlZiBzbG93X3ByaW50KHRleHQpOgogICAgZm9yIGwgaW4gdGV4dDoKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShsKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQoKZGVmIGdldF9pcF9pbmZvKGlwKToKICAgIHVybCA9IGYiaHR0cHM6Ly9jaGVjay1ob3N0Lm5ldC9pcC1pbmZvLz9ob3N0PXtpcH0iCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmwpCiAgICBzb3VwID0gQmVhdXRpZnVsU291cChyZXNwb25zZS50ZXh0LCAiaHRtbC5wYXJzZXIiKQogICAgdGFibGVzID0gc291cC5maW5kX2FsbCgidGFibGUiKQogICAgc2l0ZXMgPSBzb3VwLmZpbmRfYWxsKCJhIiwgdGFyZ2V0PSJfYmxhbmsiKQogICAgZm9yIG51bSwgdGFibGUgaW4gZW51bWVyYXRlKHRhYmxlcyk6CiAgICAgICAgcHJpbnQoIlwwMzNbOTZtIiArIHNpdGVzW251bV0udGV4dCArICIgUmVzdWx0czpcbiIpCiAgICAgICAgcm93cyA9IHRhYmxlLmZpbmRfYWxsKCJ0ciIpCiAgICAgICAgZm9yIHJvdyBpbiByb3dzOgogICAgICAgICAgICBoZWFkZXIgPSByb3cuZmluZCgidGQiKS50ZXh0IGlmIHJvdy5maW5kKCJ0ZCIpLmdldCgiY2xhc3MiKSAhPSAiYnJlYWstYWxsIiBlbHNlICIiCiAgICAgICAgICAgIHZhbHVlID0gcm93LmZpbmQoInRkIiwgY2xhc3NfPSJicmVhay1hbGwiKS50ZXh0IGlmIHJvdy5maW5kKCJ0ZCIsIGNsYXNzXz0iYnJlYWstYWxsIikgZWxzZSAiIgogICAgICAgICAgICBpZiBoZWFkZXIgYW5kIHZhbHVlLnN0cmlwKCk6CiAgICAgICAgICAgICAgICBwcmludCgiXDAzM1s5Nm1bK10gXDAzM1s5M20iICsgaGVhZGVyICsgIjogXDAzM1s5Mm0iICsgdmFsdWUucmVwbGFjZSgiXG4iLCAiICIpKQogICAgICAgIAogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBwcmludCgpCgpkZWYgbWFpbigpOgogICAgY2xlYXJfY29uc29sZSgpCiAgICBwcmludChiYW5uZXIpCiAgICBzbG93X3ByaW50KCJcMDMzWzk1bSgrKSBcMDMzWzBtRW50ZXIgSVAgQWRkcmVzczogXDAzM1s5NG0iKQogICAgCiAgICB0cnk6CiAgICAgICAgaXAgPSBpbnB1dCgpCiAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgZXhpdCgpCgogICAgcHJpbnQoKQogICAgZ2V0X2lwX2luZm8oaXApCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg==')), "<string>", "exec"))